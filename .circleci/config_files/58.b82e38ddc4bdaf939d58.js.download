(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[58],{"4c+2":function(n,e,t){"use strict";var r=t("h4VS"),o=t("oBXv"),a=t("7QtJ"),u=t.n(a),i=t("q1tI"),c=t("0lgR"),l=t("9RtH"),s=t("EK8w"),p=t("IyOs"),d=t("qxmc"),f=t("hvqn"),m=t("kwRM"),b=i.createElement;function h(){var n=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  background-color: ",";\n  border: 1px solid #6a6a6a;\n  width: 100%;\n  border-radius: ","px;\n  padding: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  > span {\n    margin-left: ","px;\n  }\n"]);return h=function(){return n},n}function w(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  font-weight: ",";\n\n  > span {\n    margin-left: ","px;\n  }\n"]);return w=function(){return n},n}function v(){var n=Object(r.a)(["\n  background: ",";\n  padding: ","px;\n  display: flex;\n  justify-content: flex-end;\n\n  > button:last-of-type {\n    margin-left: ","px;\n  }\n\n  "," {\n    padding: ","px;\n  }\n"]);return v=function(){return n},n}function g(){var n=Object(r.a)(["\n  background: ",";\n  display: flex;\n  padding: ","px;\n  color: ",";\n  font-size: 24px;\n  font-weight: ",";\n  margin: 0;\n\n  "," {\n    padding: ","px;\n  }\n"]);return g=function(){return n},n}function x(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 ","px;\n\n  > div {\n    margin-bottom: ","px;\n  }\n\n  > div:first-of-type {\n    margin-bottom: ","px;\n  }\n\n  "," {\n    padding: 0 ","px;\n  }\n"]);return x=function(){return n},n}var j=l.a.div(x(),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[4]}),p.c,(function(n){return n.theme.space[6]})),O=l.a.h3(g(),(function(n){return n.theme.colors.white}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.neutral700}),(function(n){return n.theme.fontWeights.bold}),p.c,(function(n){return n.theme.space[6]})),k=l.a.footer(v(),(function(n){return n.theme.colors.white}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[6]}),p.c,(function(n){return n.theme.space[6]})),y=l.a.div(w(),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.space[2]})),N=l.a.div(h(),(function(n){return n.theme.colors.white}),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.colors.neutral900}),(function(n){return n.theme.space[1]}));e.a=function(n){var e=n.isOpen,t=n.onClose,r=void 0===t?s.a:t,a=n.workflowName,i=n.jobName,l=n.executeApproveJob,p=function(){Object(m.i)("closed-job-approval-modal"),r()};return b(c.a,{id:"approve-job-modal",isOpen:e,onClose:p},b(O,null,"Approve Job"),b(j,null,b("div",null,"This job requires approval before the workflow can continue running."),b(y,null,b(o.Workflows,null),b("span",null,a)),b(N,null,Object(f.b)("ON_HOLD",u.a.space[5]),b("span",null,i))),b(k,null,b(d.a,{onClick:p},"Cancel"),b(d.a,{kind:"primary",onClick:function(){l(),Object(m.i)("clicked-job-approve-button"),p()}},"Approve")))}},RTaa:function(n,e,t){"use strict";e.a=4e3},e7Cb:function(n,e,t){"use strict";var r=t("ODXe"),o=t("h4VS"),a=t("lTCR"),u=t.n(a),i=t("tRib"),c=t("Upr7"),l=t("y7p+"),s=t("ho9+"),p=t("CKn+"),d=t("ZVyx"),f=t("VX74");function m(){var n=Object(o.a)(["\n  mutation ApproveJob($jobId: ID!) {\n    approveJob(jobId: $jobId)\n  }\n"]);return m=function(){return n},n}var b=u()(m()),h=i.a(c.a),w=l.a(s.a(p.a("data"),h),d.a(["data","approveJob"]));e.a=function(n){var e=Object(f.useMutation)(b,{variables:n}),t=Object(r.a)(e,2),o=t[0],a=t[1];return{hasBeenExecuted:w(a),execute:o}}},hkdT:function(n,e,t){"use strict";t.r(e),t.d(e,"Presentation",(function(){return Nn}));var r=t("wx14"),o=t("h4VS"),a=t("CGT3"),u=t("YFqc"),i=t.n(u),c=t("Upr7"),l=t("q1tI"),s=t("A8vd"),p=t("lTCR"),d=t.n(p),f=t("VX74"),m=t("CKn+"),b=t("RnLf"),h=t("RTaa"),w=t("YuWb");function v(){var n=Object(o.a)(["\n  query WorkflowJobsQuery($workflowId: String!) {\n    workflowJobs(workflowId: $workflowId) {\n      id\n      dependencies\n      name\n      buildNumber\n      status\n      startedAt\n      stoppedAt\n    }\n  }\n"]);return v=function(){return n},n}var g=d()(v()),x=function(n){var e=Object(f.useQuery)(g,{fetchPolicy:"cache-and-network",variables:{workflowId:n.workflowId},pollInterval:h.a}),t=e.error,r=e.loading,o=e.data,a=e.stopPolling,u=e.refetch,i=Object(l.useState)(!1),c=i[0],s=i[1],p=m.a("workflowJobs",o);return Object(w.b)(n.workflowStatus)&&(a(),c||(s(!0),u())),{error:Object(b.d)(t)?null:t,loading:r,jobs:p}},j=t("PuAL"),O=t("e7Cb"),k=t("MC+j"),y=t("YFS/"),N=t("9RtH"),A=t("brck"),I=t("IyOs"),C=t("4c+2"),S=t("wTIg"),E=t("ZOOF"),T=t("4OaM"),R=t("qgi9"),J=t("eTFr"),L=t("P86i"),D=l.createElement,F=Object(S.a)("div",{target:"e12v079r0"})("display:flex;align-items:center;font-family:",R.d.sansSerif,";color:",E.n,";font-variant-numeric:proportional-nums;letter-spacing:0.3px;line-height:",T.i,";",I.c,"{justify-content:flex-end;}"),U=function(n){var e=n.startedAt,t=n.stoppedAt,r=Object(J.a)({startedAt:e,stoppedAt:t}).durationInMilliseconds,o=Object(L.b)(e,t);return D(F,{title:o},Object(L.e)(r))},q=t("hvqn"),H=t("kwRM"),W=t("5GGg"),_=t("qKvR"),Q=l.createElement;function M(){var n=Object(o.a)(["\n  font-weight: ",";\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n  @media only screen and (min-width: ",") {\n    grid-column: 1;\n  }\n"]);return M=function(){return n},n}function P(){var n=Object(o.a)(["\n  position: relative;\n"]);return P=function(){return n},n}function G(){var n=Object(o.a)(["\n  display: flex;\n  background-color: transparent;\n  cursor: pointer;\n  border: none;\n  flex-direction: row;\n  padding-left: ;\n  padding: ",";\n  margin: 0px;\n  line-height: ","px;\n  position: relative;\n  :disabled {\n    cursor: not-allowed;\n    opacity: 0.9;\n  }\n"]);return G=function(){return n},n}function V(){var n=Object(o.a)(["\n  color: ",";\n  display: none;\n\n  "," {\n    display: block;\n  }\n"]);return V=function(){return n},n}function X(){var n=Object(o.a)(["\n  margin-right: ","px;\n"]);return X=function(){return n},n}function K(){var n=Object(o.a)(["\n  white-space: normal;\n  overflow-wrap: break-word;\n  hyphens: auto;\n  display: flex;\n  font-weight: ",";\n"]);return K=function(){return n},n}function B(){var n=Object(o.a)(["\n  display: flex;\n\n  > :not(:first-of-type) {\n    margin-left: ","px;\n    word-break: break-word;\n  }\n"]);return B=function(){return n},n}function Y(){var n=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n"]);return Y=function(){return n},n}function Z(){var n=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-right: ","px;\n\n  @media only screen and (min-width: ",") {\n    height: 100%;\n    grid-column: 1;\n  }\n"]);return Z=function(){return n},n}function $(){var n=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-left: ","px;\n\n  "," {\n    margin: ",";\n    grid-column: 2/8;\n    display: grid;\n    grid-column-gap: ","px;\n    grid-template-columns: ",";\n    min-height: ","px;\n    :hover {\n      background-color: ",";\n    }\n  }\n"]);return $=function(){return n},n}function z(){var n=Object(o.a)(["\n  display: flex;\n  border: none;\n  background: none;\n  line-height: 24px;\n  align-items: center;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin-bottom: ","px;\n\n  "," {\n    display: grid;\n    //subgrid\n    grid-template-columns: ",";\n    grid-column-gap: ","px;\n    width: 100%;\n    align-items: center;\n    margin-bottom: 0px;\n  }\n"]);return z=function(){return n},n}function nn(){var n=Object(o.a)(["\n  display: flex;\n  color: ",";\n  padding-left: ","px;\n  position: relative;\n"]);return nn=function(){return n},n}function en(){var n=Object(o.a)(["\n  display: flex;\n  text-decoration: none;\n  color: ",";\n  padding-left: ","px;\n  position: relative;\n"]);return en=function(){return n},n}function tn(){var n=Object(o.a)(["\n  "," {\n    width: ","px;\n    height: ","px;\n    border-left: 2px solid ",";\n    border-bottom: 2px solid ",";\n    position: absolute;\n    bottom: calc(100% - 12px);\n    left: -","px;\n  }\n"]);return tn=function(){return n},n}var rn=N.a.div(tn(),I.d,(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[8]}),(function(n){return n.theme.colors.neutral70}),(function(n){return n.theme.colors.neutral70}),(function(n){return n.theme.space[4]+2})),on=N.a.a(en(),(function(n){return n.theme.colors.neutral900}),(function(n){return n.theme.space[2]})),an=N.a.span(nn(),(function(n){return n.theme.colors.neutral400}),(function(n){return n.theme.space[2]})),un=W.b.map((function(n){return n.columnWidth})).join(" "),cn=W.a.map((function(n){return n.columnWidth})).join(" "),ln=N.a.div(z(),(function(n){return n.theme.space[2]}),I.d,un,(function(n){return n.theme.space[4]})),sn=N.a.div($(),(function(n){return n.theme.space[5]}),I.d,(function(n){var e=n.theme.space;return"0px 0px 0px ".concat(e[7],"px")}),(function(n){return n.theme.space[4]}),cn,(function(n){return n.theme.space[7]}),(function(n){return n.theme.colors.neutral60})),pn=N.a.div(Z(),(function(n){return n.theme.space[2]}),s.b),dn=N.a.ul(Y()),fn=N.a.div(B(),(function(n){return n.theme.space[2]})),mn=Object(N.a)(a.Link.withComponent("div",{target:"eak8ri40"}))(K(),(function(n){return n.theme.fontWeights.medium})),bn=N.a.div(X(),(function(n){return n.theme.space[1]})),hn=N.a.div(V(),(function(n){return n.theme.colors.neutral400}),I.d),wn=N.a.button(G(),(function(n){return"0 0 0 ".concat(n.theme.space[2],"px")}),(function(n){return n.theme.space[6]})),vn=N.a.div(P()),gn=N.a.div(M(),(function(n){return n.theme.fontWeights.medium}),s.a),xn=N.a.div((function(n){var e=n.theme;return Object(_.css)("display:none;@media only screen and (min-width:",s.a,"){font-weight:",e.fontWeights.medium,";display:flex;justify-content:flex-end;grid-column:1;}")})),jn=function(n){var e=n.status,t=n.name,r=n.buildNumber;return Q(l.Fragment,null,Q(bn,{title:e},Object(q.a)(e)),Q(fn,null,Q(mn,null,t),!c.a(r)&&Q(hn,null,r)))},On=function(n){var e=n.status,t=n.name,r=n.buildNumber,o=n.showJobsLabel;return Q(ln,null,o&&Q(xn,null,"Jobs"),Q(sn,null,Q(pn,null,Q(an,{"aria-label":"".concat(e," job ").concat(t)},Q(rn,null),Q(jn,{name:t,status:e,buildNumber:r})))))},kn=function(n){var e=n.open,t=n.isOpen,r=n.close,o=n.name,a=n.status,u=n.workflowName,i=n.startedAt,c=n.stoppedAt,s=n.username,p=n.project,d=n.vcsType,f=n.execute,m=n.showJobsLabel,b=n.buildNumber,h=Object(k.a)({vcsType:d,orgName:s,projectName:p}),w=h.error,v=h.projectInfo;if(h.loading)return null;if(w)return Q(On,{name:o,status:a,showJobsLabel:m,buildNumber:b});var g=v.permissions.approveJobs;return Q(ln,null,m&&Q(xn,null,"Jobs"),Q(sn,null,Q(pn,null,Q(l.Fragment,null,Q(wn,{onClick:e,disabled:!g,title:g?null:"You don't have permission to approve ".concat(o)},Q(rn,null),Q(jn,{name:o,status:a,buildNumber:b})),t&&Q(C.a,{onClose:r,isOpen:t,workflowName:u,jobName:o,executeApproveJob:f}))),Q(U,{startedAt:i,stoppedAt:c})))},yn=function(n){var e=n.id,t=n.name,o=n.buildNumber,a=n.status,u=n.startedAt,s=n.stoppedAt,p=n.pipelineNumber,d=n.project,f=n.workflowId,m=n.workflowName,b=n.jobsRow,h="ON_HOLD"===a,w=l.useContext(y.a),v=w.vcsType,g=w.username,x=Object(j.a)(),k=x.isOpen,N=x.close,I=x.open,C=Object(O.a)({jobId:e}).execute,S=function(n){return 0===n};return c.a(o)&&!1===h?Q(On,{name:t,status:a,showJobsLabel:S(b),buildNumber:o}):h?Q(kn,{open:I,isOpen:k,close:N,name:t,status:a,workflowName:m,startedAt:u,stoppedAt:s,username:g,project:d,vcsType:v,execute:C,showJobsLabel:S(b),buildNumber:o}):Q(ln,null,S(b)&&Q(xn,null,"Jobs"),Q(sn,null,Q(pn,null,Q(i.a,Object(r.a)({},Object(A.a)({vcsType:v,username:g,project:d,pipelineNumber:p,workflowId:f,buildNumber:o}),{passHref:!0}),Q(on,{"aria-label":"".concat(a," job ").concat(t),onClick:function(){Object(H.i)("clicked-pipelines-job")}},Q(rn,null),Q(jn,{name:t,status:a,buildNumber:o})))),Q(U,{startedAt:u,stoppedAt:s})))},Nn=function(n){var e=n.jobs,t=n.pipelineNumber,r=n.workflowId,o=n.workflowName,a=n.project;return Q(vn,null,Q(dn,null,e.map((function(n,e){var u=n.id,i=n.name,c=n.buildNumber,l=n.status,s=n.startedAt,p=n.stoppedAt;return Q(yn,{key:u,id:u,name:i,buildNumber:c,status:l,startedAt:s,stoppedAt:p,pipelineNumber:t,workflowId:r,workflowName:o,jobsRow:e,project:a})}))))};e.default=function(n){var e=n.workflowId,t=n.workflowName,r=n.pipelineNumber,o=n.workflowStatus,a=n.project,u=x({workflowId:e,workflowStatus:o}),i=u.error,c=u.loading,l=u.jobs;return i?Q("div",null,"Error: ",i.message):c&&!l?Q(ln,null,Q(gn,null,"Loading...")):Q(Nn,{jobs:l,workflowId:e,workflowName:t,pipelineNumber:r,project:a})}},hvqn:function(n,e,t){"use strict";t.d(e,"a",(function(){return p})),t.d(e,"b",(function(){return d}));var r=t("oBXv"),o=t("7QtJ"),a=t.n(o),u=t("ZuG0"),i=t("CJ0+"),c=t("q1tI"),l=c.createElement,s={RUNNING:l(r.StatusRunning,{color:a.a.colors.blue500}),SUCCESS:l(r.StatusPassed,{color:a.a.colors.green600}),FIXED:l(r.StatusPassed,{color:a.a.colors.green600}),FAILED:l(r.StatusFailed,{color:a.a.colors.red300}),CANCELED:l(r.StatusCanceled,{color:a.a.colors.neutral300}),ON_HOLD:l(r.StatusOnHold,{color:a.a.colors.purple300}),QUEUED:l(r.Duration,{color:a.a.colors.neutral300}),BLOCKED:l(r.StatusQueued,{color:a.a.colors.neutral300}),INFRASTRUCTURE_FAIL:l(r.StatusFailed,{color:a.a.colors.red300}),NOT_RUN:l(r.StatusCanceled,{color:a.a.colors.neutral300}),NOT_RUNNING:l(r.StatusQueued,{color:a.a.colors.purple300}),NO_TESTS:l(r.StatusFailed,{color:a.a.colors.red300}),RETRIED:l(r.StatusQueued,{color:a.a.colors.purple300}),SCHEDULED:l(r.StatusQueued,{color:a.a.colors.purple300}),TIMEDOUT:l(r.StatusFailed,{color:a.a.colors.red300}),UNAUTHORIZED:l(r.Warning,{color:a.a.colors.red300}),CATCHALL:l(r.StatusCanceled,{color:a.a.colors.neutral300})},p=(u.a(s),function(n){return i.a(s.CATCHALL,n,s)}),d=function(n,e){var t=p(n);return c.cloneElement(t,{size:e})}}}]);
//# sourceMappingURL=58.b82e38ddc4bdaf939d58.js.map